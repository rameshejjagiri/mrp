<div class="container">

    <form class="well form-horizontal" [formGroup]="memberRegistrationForm" (ngSubmit)="onSubmit()" novalidate id="contact_form">
        <fieldset>
            <legend>
                <h2 class="text-center"><b>Update Member Details</b></h2>
            </legend><br>

            <div class="form-group">
                <label class="col-md-4 control-label">MemberId</label>
                <div class="col-md-4 inputGroupContainer" [ngClass]="{'has-error': f.id.errors&& submitted}">
                    <div class="input-group">
                        <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
                        <input [readonly]="!readOnly" name="id" placeholder="id" class="form-control" type="text" formControlName="id">
                    </div>
                    <div class="text-danger" *ngIf="!f.id?.valid && (f.id?.dirty ||f.id?.touched || submitted)">
                        <div [hidden]="!f.id.errors?.required">
                            Member Id is required
                        </div>
                    </div>
                </div>
            </div>

            <div class="form-group">
                <label class="col-md-4 control-label">Name</label>
                <div class="col-md-4 inputGroupContainer" [ngClass]="{'has-error': f.name.errors&& submitted}">
                    <div class="input-group">
                        <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
                        <input [readonly]="!readOnly" name="first_name" placeholder="Name" class="form-control" type="text" formControlName="name">
                    </div>
                    <div class="text-danger" *ngIf="!f.name?.valid && (f.name?.dirty ||f.name?.touched || submitted)">
                        <div [hidden]="!f.name.errors?.required">
                            Name is required
                        </div>
                        <div [hidden]="!f.name.errors?.pattern">
                            Name should contain only Alphabets
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label class="col-md-4 control-label">PAN</label>
                <div class="col-md-4 inputGroupContainer" [ngClass]="{'has-error': f.pan.errors && submitted}">
                    <div class="input-group">
                        <span class="input-group-addon"><i class="glyphicon glyphicon-credit-card"></i></span>
                        <input name="last_name" placeholder="PAN" class="form-control" type="text" formControlName="pan">
                    </div>
                    <div class="text-danger" *ngIf="!f.pan?.valid && (f.pan?.dirty ||f.pan?.touched || submitted)">
                        <div [hidden]="!f.pan.errors?.required">
                            PAN is required
                        </div>
                        <div [hidden]="!f.pan.errors?.pattern">
                            Invalid PAN NUmber
                        </div>
                    </div>
                </div>
            </div>

            <div class="form-group">
                <label class="col-md-4 control-label">Contact No.</label>
                <div class="col-md-4 inputGroupContainer" [ngClass]="{'has-error': f.contactNo.errors && submitted}">
                    <div class="input-group">
                        <span class="input-group-addon"><i class="glyphicon glyphicon-earphone"></i></span>
                        <input name="contact_no" placeholder="(999999999)" class="form-control" type="text" formControlName="contactNo">
                    </div>
                    <div class="text-danger" *ngIf="!f.contactNo?.valid && (f.contactNo?.dirty ||f.contactNo?.touched||submitted)">
                        <div [hidden]="!f.contactNo.errors?.required">
                            Contact is required
                        </div>
                        <div [hidden]="!f.contactNo.errors?.pattern">
                            Invalid Phone Number
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label class="col-md-4 control-label">Date of birth:.</label>
                <div class="col-md-4 inputGroupContainer" [ngClass]="{'has-error': f.dob.errors && submitted}">
                    <div class="input-group">
                        <span class="input-group-addon"><i class="glyphicon  glyphicon-calendar"></i></span>
                        <input [readonly]="!readOnly" name="contact_no" placeholder="dd/mm/yyyy" class="form-control" type="date" formControlName="dob">
                    </div>
                    <div class="text-danger" *ngIf="!f.dob?.valid && (f.dob?.dirty ||f.dob?.touched||submitted)">
                        <div [hidden]="!f.dob.errors?.required">
                            Date of birth is required
                        </div>

                        <div [hidden]="!f.dob.errors?.isAgeValid">
                            Age must be greater then 18 years
                        </div>
                    </div>
                </div>
            </div>

            <div class="form-group">
                <label class="col-md-4 control-label">E-Mail</label>
                <div class="col-md-4 inputGroupContainer" [ngClass]="{'has-error': f.email.errors && submitted}">
                    <div class="input-group">
                        <span class="input-group-addon"><i class="glyphicon glyphicon-envelope"></i></span>
                        <input name="email" placeholder="email" class="form-control" type="text" formControlName="email">
                    </div>
                    <div class="text-danger" *ngIf="!f.email?.valid && (f.email?.dirty ||f.email?.touched||submitted)">
                        <div [hidden]="!f.email.errors?.required">
                            email is required
                        </div>
                        <div [hidden]="!f.email.errors?.pattern">
                            Invalid email Id
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label class="col-md-4 control-label">Password</label>
                <div class="col-md-4 inputGroupContainer" [ngClass]="{'has-error': f.password.errors&& submitted}">
                    <div class="input-group">
                        <span class="input-group-addon"><i class="glyphicon glyphicon glyphicon-lock"></i></span>
                        <input [readonly]="!readOnly" name="user_password" placeholder="Password" class="form-control" type="password" formControlName="password">
                    </div>
                    <div class="text-danger" *ngIf="!f.password?.valid && (f.password?.dirty ||f.password?.touched|| submitted)">
                        <div [hidden]="!f.password.errors?.required">
                            password is required
                        </div>
                        <div [hidden]="!f.password.errors?.pattern">
                            Invalid password
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label class="col-md-4 control-label">Address</label>
                <div class="col-md-4 inputGroupContainer" [ngClass]="{'has-error': f.address.errors && submitted}">
                    <div class="input-group">
                        <span class="input-group-addon"><i class="glyphicon glyphicon-home"></i></span>
                        <textarea name="address" placeholder="Address" class="form-control" formControlName="address">
                    </textarea>
                    </div>
                    <div class="text-danger" *ngIf="!f.address?.valid && (f.address?.dirty ||f.address?.touched||submitted)">
                        <div [hidden]="!f.address.errors?.required">
                            Address is Required
                        </div>

                    </div>
                </div>
            </div>
            <div class="form-group">
                <label class="col-md-4 control-label">Country</label>
                <div class="col-md-4 selectContainer" [ngClass]="{'has-error': f.country.errors && submitted}">
                    <div class="input-group">
                        <span class="input-group-addon"><i class="glyphicon glyphicon-map-marker"></i></span>
                        <select formControlName="country" placeholder="Phantasyland" class="form-control" [disabled]="!readOnly">
                         <option selected disabled value="{{member.country}}"> {{member.country}}</option>
                        </select>
                    </div>
                    <div class="text-danger" *ngIf="!f.country?.valid && (f.country?.dirty ||f.country?.touched||submitted)">
                        <div [hidden]="!f.country.errors?.required">
                            Please select country
                        </div>
                    </div>

                </div>
            </div>
            <div class="form-group">
                <label class="col-md-4 control-label">State</label>
                <div class="col-md-4 selectContainer" [ngClass]="{'has-error': f.state.errors && submitted}">
                    <div class="input-group">
                        <span class="input-group-addon"><i class="glyphicon glyphicon-map-marker"></i></span>
                        <select formControlName="state" placeholder="Phantasyland" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.state.errors }">
                            <option selected disabled>--Select--</option>
                            <option *ngFor="let citi of cities" [selected]="citi==member.state">{{citi}} </option>
                        </select>

                    </div>
                    <div class="text-danger" *ngIf="!f.state?.valid && (f.state?.dirty ||f.state?.touched||submitted)">
                        <div [hidden]="!f.state.errors?.required">
                            Please select country
                        </div>
                    </div>
                </div>
            </div>


            <div class="form-group">
                <label class="col-md-4 control-label"></label>
                <div class="col-md-4">
                    <button [disabled]="submitted && memberRegistrationForm?.invalid " type="submit" class="btn btn-warning">Update
                    </button>

                </div>


            </div>

        </fieldset>
    </form>
</div>